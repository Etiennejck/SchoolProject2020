{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr" class="-moz-">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dashboard Professeur</title>
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Lato:300,400,400italic,700,700italic,900,900italic" rel="stylesheet">
        <style media="" data-href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">button,hr,input{overflow:visible}audio,canvas,progress,video{display:inline-block}progress,sub,sup{vertical-align:baseline}html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0} menu,article,aside,details,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{}button,select{text-transform:none}[type=submit], [type=reset],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}[hidden],template{display:none}/*# sourceMappingURL=normalize.min.css.map */</style>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" charset="utf-8"></script>
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
        <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-purple.css">
        <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    </head>

{% if user.is_authenticated %}

<html>
<style>
@import url(//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css);

@import url(https://fonts.googleapis.com/css?family=Titillium+Web:300);
body{
    background-color: whitesmoke;
}


.fa-2x {
font-size: 4em;
}
.fa {
padding: 15px;
position: relative;
display: table-cell;
width: 60px;
height: 36px;
text-align: center;
vertical-align: middle;
font-size:30px;
}


.main-menu:hover,nav.main-menu.expanded {
width:250px;
overflow:visible;
}

.main-menu {
background-color: #0061f2;
background-image: linear-gradient(135deg, #0061f2 0%, rgba(105, 0, 199, 0.8) 100%);

border-right:1px solid #e5e5e5;
position:fixed;
top:0;
bottom:0;
height:100%;
left:0;
width:60px;
overflow:hidden;
-webkit-transition:width .05s linear;
transition:width .05s linear;
-webkit-transform:translateZ(0) scale(1,1);
z-index:1000;
}

.main-menu>ul {

margin:70px 0;
}

.main-menu li {
margin-top: 6px;
position:relative;
display:block;
width:250px;
}

.main-menu li>a {
position:relative;
display:table;
border-collapse:collapse;
border-spacing:0;
color:#fff;
 font-family: "DejaVu Sans";
font-size: 14px;
text-decoration:none;
-webkit-transform:translateZ(0) scale(1,1);
-webkit-transition:all .1s linear;
transition:all .1s linear;

}

.main-menu .nav-icon {
position:relative;
display:table-cell;
width:60px;
height:36px;
text-align:center;
vertical-align:middle;
font-size:18px;
}

.main-menu .nav-text {
position:relative;
display:table-cell;
vertical-align:middle;
width:190px;
  font-family: 'Titillium Web', sans-serif;
}

.main-menu>ul.logout {
position:absolute;
left:0;
bottom:0;
}

.no-touch .scrollable.hover {
overflow-y:hidden;
}

.no-touch .scrollable.hover:hover {
overflow-y:auto;
overflow:visible;
}

a:hover,a:focus {
text-decoration:none;
}

nav {
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
-o-user-select:none;
user-select:none;
}

nav ul,nav li {
outline:0;
margin:0;
padding:0;
}
.main-menu li:hover>a,nav.main-menu li.active>a,.dropdown-menu>li>a:hover,.dropdown-menu>li>a:focus,.dropdown-menu>.active>a,.dropdown-menu>.active>a:hover,.dropdown-menu>.active>a:focus,.no-touch .dashboard-page nav.dashboard-menu ul li:hover a,.dashboard-page nav.dashboard-menu ul li.active a {
color:#fff;
background-color:#EE82EE;
}
.area {
float: left;
background: #e2e2e2;
width: 100%;
height: 100%;
}
@font-face {
  font-family: 'Titillium Web';
  font-style: normal;
  font-weight: 300;
  src: local('Titillium WebLight'), local('TitilliumWeb-Light'), url(http://themes.googleusercontent.com/static/fonts/titilliumweb/v2/anMUvcNT0H1YN4FII8wpr24bNCNEoFTpS2BTjF6FB5E.woff) format('woff');
}


</style>
  <body class="w3-mobile">

<div class="topnav navbar navbar-expand shadow navbar-light bg-white w3-cell-row w3-mobile" style="position: fixed;z-index: 1039; top:0px; right: 0;left: 0px">
    <header class="w3-container w3-cell w3-padding-8 w3-center w3-border w3-margin " style="width:100%;background-color: white">
        {% for p in prof %}
        <h2 class=" w3-left " style="margin-left: 60px">{{ p.id_section.name }} {{ p.id_section.section_year }}  </h2>
        {% endfor %}
        <h2 class="w3-large w3-padding-16 w3-right">{{ user.first_name }}</h2>
    </header>
</div>

  <div class="area" style=""></div><nav class="main-menu ">
            <ul>
                <li>
                    <a href="#home">
                        <i class="fa fa-home fa-2x"></i>
                        <span class="nav-text">
                            Dashboard
                        </span>
                    </a>

                </li>
                <li class="has-subnav">
                    <a href="#jdc">
                        <i class="fa fa-book fa-2x"></i>
                        <span class="nav-text">
                            Journal de classe
                        </span>
                    </a>

                </li>
                <li class="has-subnav">
                    <a href="#carteAbsence">
                       <i class="fa fa-stethoscope fa-2x"></i>
                        <span class="nav-text">
                            Carte d'absence
                        </span>
                    </a>

                </li>
                <li class="has-subnav">
                    <a href="#event">
                       <i class="fa fa-camera-retro fa-2x"></i>
                        <span class="nav-text">
                            Evenements
                        </span>
                    </a>

                </li>
                <li>
                    <a href="#calendrier">
                        <i class="fa fa-calendar fa-2x"></i>
                        <span class="nav-text">
                            Calendrier
                        </span>
                    </a>
                </li>

            </ul>

            <ul class="logout">
                <li>
                   <a href="{% url 'LogOut_view' %}">
                         <i class="fa fa-power-off fa-2x"></i>
                        <span class="nav-text">
                            Logout
                        </span>
                    </a>
                </li>
            </ul>
        </nav>



<!-- Dashboard -->
<div class="w3-row-padding w3-margin">
  <div class="w3-row-padding w3-animate-left " id="home" style="margin-top:25px; margin-left: 40px">
     <main class="w3-container w3-margin-left w3-margin-bottom">
            <header class="page-header page-header-dark bg-gradient-primary-to-secondary pb-10 w3-round-xlarge bg-gradient-primary" style="background-color: #0061f2;
;display: block; padding-bottom: 9rem !important;box-sizing: border-box;text-align: left;color: rgba(255, 255, 255, 0.5);
font-size: 16px;
font-weight: 400;
line-height: 24px">
                        <div class="container">
                            <div class="page-header-content pt-4">
                                <div class="row align-items-center justify-content-between">
                                    <div class="col-auto mt-4">
                                        <h1 style="text-align: center; top: 0"><br><br>DASHBOARD<br><br> {{ heureEnvoi }}</h1>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </header>
                    <div class="container mt-n10">
                        <div class="row" style="display: flex;flex-wrap: wrap;margin-right: -0.75rem;margin-left: 20%;
margin-bottom: 5%;
margin-top: -5rem;">
                            <div class="col-xxl-4 col-xl-12 mb-4" style="margin-bottom: 1.5rem !important;flex: 0 0 70%;
max-width: 100%;position: center;width: 100%;padding-right: 0.75rem;padding-left: 0.75rem;box-sizing: border-box;background-color: white">
                                <div class="card h-100">
                                    <div class="card-body h-100 d-flex flex-column justify-content-center py-5 py-xl-4">
                                        <div class="row align-items-center">
                                            <div class="col-xl-8 col-xxl-12">
                                                <div class="text-center px-4 mb-4 mb-xl-0 mb-xxl-4">
                                                    <h1 class="text-primary w3-center">Welcome Back! {{ user.first_name }}</h1>

                                                </div>
                                            </div>
                                            <div class="col-xl-4 col-xxl-12 "><img class="img-fluid" src="{% static 'images/End of workday-pana.png' %}" style="max-width: 16rem;"></div>
                                        <div></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
        </main>

    <div class="w3-cell-row" style="margin-left: 70px">
        <div class="w3-col s3 w3-panel-smal w3-padding-32 w3-border-green w3-round-xlarge w3-card w3-center w3-leftbar w3-margin w3-mobile" style="width:20%; background-color:white;margin-left: 60px">
            {% for s in sudent %}
                {% if s.presence == True %}
                    <h2 style="color: green" class="w3-center">{{ s.first_name }} @ <i class="fas fa-school"></i></h2>
                {% else %}
                    <h2 style="color: #f40d42" class="w3-center">{{ s.first_name }} @ <i class="fas fa-home"></i></h2>
                {% endif %}
            {% endfor %}
        </div>


        <div class="w3-col s3 w3-panel-smal w3-padding-32 w3-border-deep-purple w3-round-xlarge w3-card w3-center w3-leftbar w3-margin w3-mobile" style="width:20%; background-color:white;">
            {% for s in sudent %}
                    <h2 class="w3-text-deep-purple">{{ s.id_level.id_School_year.libel }}</h2>
            {% endfor %}
        </div>

          <div class="w3-col s3 w3-panel-smal w3-padding-32 w3-border-pink w3-round-xlarge w3-card w3-center w3-leftbar w3-margin w3-mobile" style="width:20%; background-color:white">
              {% if eventslen == 1 %}
                    <h2 class="w3-text-pink">{{ eventslen }} Event</h2>
              {% else %}
                    <h2 class="w3-text-pink">{{ eventslen }} Events</h2>
              {% endif %}
          </div>

          <div class="w3-col s3 w3-panel-smal w3-padding-32 w3-border-orange w3-round-xlarge w3-card w3-center w3-leftbar w3-margin w3-mobile" style="width:20%; background-color:white">
                {% for journal in prof %}
                    <h2 style="color: orange" class="w3-center">{{ journal.name }}</h2>
                {% endfor %}
          </div>
        </div>
    </div>
</div>


<!-- journal de classe -->
<div id="jdc" class="w3-container w3-mobile" style="margin-top:75px; margin-left: 60px">
<h1 class="w3-xxlarge">Journal de classe</h1>
  <table id="table_id" class="w3-panel-small w3-padding-32 w3-leftbar w3-border-purple w3-round-large w3-card w3-mobile" style="background-color: whitesmoke">
    <thead style="color: purple">
        <tr>
            <th>DATE</th>
            <th>DEVOIRS</th>
            <th>COMPORTEMENTS</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    {% for i in jdc %}
        <tr>
            <th>{{ i.date }}</th>
            <th>{{ i.home_work }}</th>
            <th>{{ i.comportement }}</th>
            <th><button id="det" class="w3-button w3-purple"><a style="text-decoration: none"  href="{% url 'detailJournalDeClasse' i.id %}">details</a></button></th>
        </tr>
    {% endfor %}
    </tbody>
  </table>
</div>




<div class="w3-container w3-mobile" style="margin-top:75px; margin-left: 60px">
<table id="table_id" class="w3-table-all w3-card w3-mobile" style="background-color: whitesmoke">
        <thead class="m-0 font-weight-bold text-success">
            <tr>
                <th>Entrée</th>
                <th>Plats</th>
                <th>Desserts</th>
                <th>Période</th>
            </tr>
        </thead>
        <tbody id="myTable">
        {% for m in menu %}
            <tr>
                <th>{{ m.starter }}</th>
                <th>{{ m.main }}</th>
                <th>{{ m.dessert }}</th>
                <th>{{ m.day }}</th>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>



<div id="carteAbsence" class="w3-container  w3-animate-right" style="margin-top:75px; margin-left: 60px">
    <h1 class="w3-xxlarge">Carte d'absence</h1>

    <div id="absence" class="w3-panel-small w3-padding-32 w3-mobile" style="width: 50%" >
        <form method="post" class="w3-container w3-border-blue w3-leftbar w3-round-large w3-margin w3-card w3-mobile" style="color: dodgerblue; background-color: white">
            {% csrf_token %}
            <div class="w3-row w3-section w3-mobile">
              <div class="w3-col" style="width:60px"><i class="w3-xxlarge fa fa-download"></i></div>
                <div class="w3-rest">
                  <input class="w3-input w3-border" name="document" type="file" placeholder="document">
                </div>
            </div>

            <div class="w3-row w3-section w3-mobile">
              <div class="w3-col" style="width:60px"><i class="w3-xxlarge fa fa-calendar"></i></div>
                <div class="w3-rest">
                  <input class="w3-input w3-border" name="startdate" type="date" placeholder="début">
                </div>
            </div>

            <div class="w3-row w3-section w3-mobile">
              <div class="w3-col" style="width:60px"><i class="w3-xxlarge fa fa-calendar"></i></div>
                <div class="w3-rest">
                  <input class="w3-input w3-border" name="enddate" type="date" placeholder="fin">
                </div>
            </div>

            <div class="w3-row w3-section w3-mobile">
              <div class="w3-col" style="width:60px"><i class="w3-xxlarge fa fa-pencil"></i></div>
                <div class="w3-rest">
                  <input class="w3-input w3-border" name="message" type="text" placeholder="Message">
                </div>
            </div>
            {{ s_id }}
            <button type="submit" class="w3-button w3-block w3-section w3-ripple w3-padding w3-mobile" style="background-color: dodgerblue">Envoyer</button>
        </form>
    </div>
</div>


<div class="w3-container w3-animate-left" id="event" style="margin-top:75px; margin-left: 60px">
    <h1 class="w3-xxlarge" >Evenements</h1>

    <div class="w3-panel-smal w3-padding-32 w3-border-deep-orange w3-leftbar w3-round-xlarge w3-ul w3-card w3-mobile" style="background-color: white; width: 50%">
        {% for e in events %}

            <label class="w3-margin"><b>NEW {{ e.name }} {{ eventslen }}</b></label>
            <i class="fas fa-calendar"> {{ e.start_Date }} </i>
            <li> <i class="fas fa-map-marker"></i> {{ e.contry }}  <p>{{ e.Eventmessage }}</p></li>

        {% endfor %}

    </div>
</div>

<div class="w3-container w3-animate-left" id="event" style="margin-top:75px; margin-left: 60px">
    <h1 class="w3-xxlarge" >Messages</h1>

    <div class="w3-panel-smal w3-padding-32 w3-border-deep-orange w3-leftbar w3-round-xlarge w3-ul w3-card w3-mobile" style="background-color: white; width: 50%">
        {% for e in chatMessage %}
            <br>
            <label class="w3-margin"><b>NEW  {{ e.id_professor.name }}</b></label>
            <i class="fas fa-calendar"> {{ e.msg_time }} </i>
             <p class="w3-margin">{{ e.messagesBody }}</p><a class="w3-button w3-deep-orange" href="{% url 'chat' s_id %}">repondre</a>
        {% endfor %}

    </div>
</div>

<div class="w3-container w3-animate-left" id="event" style="margin-top:75px; margin-left: 60px">
    <h1 class="w3-xxlarge" id="calendrier" >Calendrier</h1>

    <div class="w3-panel-smal w3-padding-32 w3-border-yellow w3-leftbar w3-round-xlarge w3-ul w3-card w3-mobile" style="background-color: white; width: 50%">
        <div class="row">
        <div class="col s12 hoverable" id="section" >
            <label><h4>Agenda</h4></label>
            <div class="collection">
                <a class="collection-item">
                    <div>
                        <h6 class="col s12"> zomervakantie</h6>
                        <i class="material-icons">date_range</i>
                        <label>Dinsdag 30 juni 2020</label>
                        <i class="material-icons">location_on</i>
                        <label>huis</label>
                        <p>de zomervakantie start voor de kinderen om 11.50 uur</p>

                    </div>
                </a>

                <a class="collection-item">
                    <div>
                        <h6 class="col s12">Begin van het schooljaar en hervatting van de lessen</h6>
                        <i class="material-icons">date_range</i>
                        <label>donderdag 27 augustus 2020</label>
                        <i class="material-icons">location_on</i>
                        <label> Basisschool Mariadal
Klein Overlaar 3 – 3320 Hoegaarden</label>
                        <p>openklasmoment: 17.00 – 18.00 uur voor iedereen behalve
voor de instappers van januari tot en met juni van K1 (deze worden uitgenodigd voor een
infomoment op 5 januari 2021)</p>

                    </div>
                </a>

                <a class="collection-item">
                    <div>
                        <h6 class="col s12">InformatieAvond</h6>
                        <i class="material-icons">date_range</i>
                        <label>maandag 7 september 2020</label>
                        <i class="material-icons">location_on</i>
                        <label>Basisschool Mariadal</label>
                        <p>19.00 uur: instapklas (instappers tot dec) en 1e kleuterklas (K1, K2 en K3)</p>
                        <p> 19.00 uur: 3 e graad (5A, 5B, 6A en 6B)</p>
                           <p> 20.30 uur: 2 e graad (3A, 3B, 4A en 4B)</p>

                    </div>
                </a>

                 <a class="collection-item">
                    <div>
                        <h6 class="col s12">InformatieAvond</h6>
                        <i class="material-icons">date_range</i>
                        <label>dinsdag 8 september 2020</label>
                        <i class="material-icons">location_on</i>
                        <label>Basisschool Mariadal</label>
                        <p> 18.30 uur: info schoolrijpheid voor K6 en K7 (in klas eerste leerjaar 1A)</p>
                        <p> 19.00 uur: 2 e kleuterklas (K4 en K5)</p>
                        <p> 19.30 uur: info klasorganisatie en -afspraken 3 e kleuterklas (K6 en K7)</p>
                        <p>20.30 uur: 1 e graad (1A, 1B, 1C, 2A, 2B en 2C)</p>
                    </div>
                </a>

            </div>
        </div>
    </div>
</div>

     <!-- Bootstrap core JavaScript-->
  <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

  <!-- Core plugin JavaScript-->
  <script src="{% static 'vendor/jquery-easing/jquery.easing.min.js' %}"></script>

  <!-- Custom scripts for all pages-->
  <script src="{% static 'js/sb-admin-2.min.js' %}"></script>

  <!-- Page level plugins -->
  <script src="{% static 'vendor/chart.js/Chart.min.js' %}"></script>
    <script>

            $(document).ready( function () {
                var table = $('#table_id').DataTable({"dom": '<"top"i>rt<"bottom"flp><"clear">'});

                 $('#table_id tbody').on( 'click', 'tr', function () {
                    if ( $(this).hasClass('selected') ) {

                    }
                    else {
                        table.$('tr.selected').removeClass('selected');
                        $(this).addClass('selected');
                    }
                } );

                $('#det').click( function () {
                    //table.row('.selected').remove().draw( false );

                } );
            } );

            function w3_open() {
              document.getElementById("mySidebar").style.display = "block";
            }

            function w3_close() {
              document.getElementById("mySidebar").style.display = "none";
            }
</script>
{% endif %}

</body>
</html>




